{"ast":null,"code":"import _slicedToArray from\"C:/Users/eriks/OneDrive/Dokument/GitHub/ReceptBook/recipebook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Card,Button}from\"react-bootstrap\";import NutritionInfo from\"./NutritionInfo\";import ExpandableList from\"./ExpandableList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var RecipeCard=function RecipeCard(_ref){var recipe=_ref.recipe,isSavedPage=_ref.isSavedPage,setSavedRecipes=_ref.setSavedRecipes,isGrid=_ref.isGrid;var _useState=useState(recipe.yield),_useState2=_slicedToArray(_useState,2),servingSize=_useState2[0],setServingSize=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSaved=_useState4[0],setIsSaved=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isExpanded=_useState6[0],setIsExpanded=_useState6[1];useEffect(function(){var savedRecipes=localStorage.getItem(\"savedRecipes\");if(savedRecipes){savedRecipes=JSON.parse(savedRecipes);var alreadySaved=savedRecipes.some(function(savedRecipe){return savedRecipe.uri===recipe.uri;});setIsSaved(alreadySaved);}},[recipe]);var handleStarClick=function handleStarClick(recipe){var savedRecipes=localStorage.getItem(\"savedRecipes\");if(!savedRecipes){savedRecipes=[];}else{savedRecipes=JSON.parse(savedRecipes);}var alreadySaved=savedRecipes.some(function(savedRecipe){return savedRecipe.uri===recipe.uri;});if(!alreadySaved){savedRecipes.push(recipe);localStorage.setItem(\"savedRecipes\",JSON.stringify(savedRecipes));setIsSaved(true);}};var removeFromSavedRecipes=function removeFromSavedRecipes(recipeUri){var savedRecipes=JSON.parse(localStorage.getItem(\"savedRecipes\"))||[];savedRecipes=savedRecipes.filter(function(savedRecipe){return savedRecipe.uri!==recipeUri;});localStorage.setItem(\"savedRecipes\",JSON.stringify(savedRecipes));setSavedRecipes(savedRecipes);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Card,{className:\"mx-2 shadow p-3 mb-5 bg-white rounded mx-5 my-5\",style:isGrid?{backgroundColor:\"#f8f9fa\",gap:\"1rem\"}:{backgroundColor:\"#f8f9fa\",width:\"40rem\",gap:\"1rem\",minHeight:\"47rem\"},children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:recipe.image,style:{maxHeight:\"250px\",objectFit:\"scale-down\"}}),isSavedPage?/*#__PURE__*/_jsx(Button,{className:\"position-absolute \",onClick:function onClick(){return removeFromSavedRecipes(recipe.uri);},children:\"Remove recipe\"}):isSaved?/*#__PURE__*/_jsx(Button,{className:\"position-absolute\",disabled:true,children:\"Saved\"}):/*#__PURE__*/_jsx(Button,{className:\"position-absolute\",onClick:function onClick(){return handleStarClick(recipe);},children:\"Save recipe\"}),/*#__PURE__*/_jsxs(Card.Body,{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(Card.Title,{className:\"border-bottom text-primary\",children:recipe.label}),/*#__PURE__*/_jsxs(Card.Subtitle,{className:\"mb-2 text-muted d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Servings: \",recipe.yield]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Time: \",recipe.totalTime,\" minutes\"]}),/*#__PURE__*/_jsx(\"div\",{children:recipe.dishType})]}),/*#__PURE__*/_jsxs(Card.Text,{className:\"\",children:[/*#__PURE__*/_jsx(ExpandableList,{items:recipe.ingredientLines,isExpanded:isExpanded,setIsExpanded:setIsExpanded}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 bg-light p-3 rounded \",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-3\",children:\"Nutrition Facts\"}),/*#__PURE__*/_jsx(NutritionInfo,{recipe:recipe,servingSize:Number(servingSize)})]})]})]})]})});};export default RecipeCard;","map":{"version":3,"names":["React","useState","useEffect","Card","Button","NutritionInfo","ExpandableList","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RecipeCard","_ref","recipe","isSavedPage","setSavedRecipes","isGrid","_useState","yield","_useState2","_slicedToArray","servingSize","setServingSize","_useState3","_useState4","isSaved","setIsSaved","_useState5","_useState6","isExpanded","setIsExpanded","savedRecipes","localStorage","getItem","JSON","parse","alreadySaved","some","savedRecipe","uri","handleStarClick","push","setItem","stringify","removeFromSavedRecipes","recipeUri","filter","children","className","style","backgroundColor","gap","width","minHeight","Img","variant","src","image","maxHeight","objectFit","onClick","disabled","Body","Title","label","Subtitle","totalTime","dishType","Text","items","ingredientLines","Number"],"sources":["C:/Users/eriks/OneDrive/Dokument/GitHub/ReceptBook/recipebook/src/components/RecipeCard.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Card, Button } from \"react-bootstrap\";\r\nimport NutritionInfo from \"./NutritionInfo\";\r\nimport ExpandableList from \"./ExpandableList\";\r\n\r\nconst RecipeCard = ({ recipe, isSavedPage, setSavedRecipes, isGrid }) => {\r\n\tconst [servingSize, setServingSize] = useState(recipe.yield);\r\n\tconst [isSaved, setIsSaved] = useState(false);\r\n\tconst [isExpanded, setIsExpanded] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet savedRecipes = localStorage.getItem(\"savedRecipes\");\r\n\t\tif (savedRecipes) {\r\n\t\t\tsavedRecipes = JSON.parse(savedRecipes);\r\n\t\t\tconst alreadySaved = savedRecipes.some(\r\n\t\t\t\t(savedRecipe) => savedRecipe.uri === recipe.uri\r\n\t\t\t);\r\n\t\t\tsetIsSaved(alreadySaved);\r\n\t\t}\r\n\t}, [recipe]);\r\n\r\n\tconst handleStarClick = (recipe) => {\r\n\t\tlet savedRecipes = localStorage.getItem(\"savedRecipes\");\r\n\r\n\t\tif (!savedRecipes) {\r\n\t\t\tsavedRecipes = [];\r\n\t\t} else {\r\n\t\t\tsavedRecipes = JSON.parse(savedRecipes);\r\n\t\t}\r\n\r\n\t\tconst alreadySaved = savedRecipes.some(\r\n\t\t\t(savedRecipe) => savedRecipe.uri === recipe.uri\r\n\t\t);\r\n\r\n\t\tif (!alreadySaved) {\r\n\t\t\tsavedRecipes.push(recipe);\r\n\t\t\tlocalStorage.setItem(\"savedRecipes\", JSON.stringify(savedRecipes));\r\n\t\t\tsetIsSaved(true);\r\n\t\t}\r\n\t};\r\n\r\n\tconst removeFromSavedRecipes = (recipeUri) => {\r\n\t\tlet savedRecipes = JSON.parse(localStorage.getItem(\"savedRecipes\")) || [];\r\n\r\n\t\tsavedRecipes = savedRecipes.filter(\r\n\t\t\t(savedRecipe) => savedRecipe.uri !== recipeUri\r\n\t\t);\r\n\r\n\t\tlocalStorage.setItem(\"savedRecipes\", JSON.stringify(savedRecipes));\r\n\t\tsetSavedRecipes(savedRecipes);\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Card\r\n\t\t\t\tclassName='mx-2 shadow p-3 mb-5 bg-white rounded mx-5 my-5'\r\n\t\t\t\tstyle={\r\n\t\t\t\t\tisGrid\r\n\t\t\t\t\t\t? { backgroundColor: \"#f8f9fa\", gap: \"1rem\" }\r\n\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\tbackgroundColor: \"#f8f9fa\",\r\n\t\t\t\t\t\t\t\twidth: \"40rem\",\r\n\t\t\t\t\t\t\t\tgap: \"1rem\",\r\n\t\t\t\t\t\t\t\tminHeight: \"47rem\",\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t}>\r\n\t\t\t\t<Card.Img\r\n\t\t\t\t\tvariant='top'\r\n\t\t\t\t\tsrc={recipe.image}\r\n\t\t\t\t\tstyle={{ maxHeight: \"250px\", objectFit: \"scale-down\" }}\r\n\t\t\t\t/>\r\n\t\t\t\t{isSavedPage ? (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName='position-absolute '\r\n\t\t\t\t\t\tonClick={() => removeFromSavedRecipes(recipe.uri)}>\r\n\t\t\t\t\t\tRemove recipe\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t) : isSaved ? (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName='position-absolute'\r\n\t\t\t\t\t\tdisabled>\r\n\t\t\t\t\t\tSaved\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName='position-absolute'\r\n\t\t\t\t\t\tonClick={() => handleStarClick(recipe)}>\r\n\t\t\t\t\t\tSave recipe\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t<Card.Body className='d-flex flex-column'>\r\n\t\t\t\t\t<Card.Title className='border-bottom text-primary'>\r\n\t\t\t\t\t\t{recipe.label}\r\n\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t<Card.Subtitle className='mb-2 text-muted d-flex justify-content-between'>\r\n\t\t\t\t\t\t<div>Servings: {recipe.yield}</div>\r\n\t\t\t\t\t\t<div>Time: {recipe.totalTime} minutes</div>\r\n\t\t\t\t\t\t<div>{recipe.dishType}</div>\r\n\t\t\t\t\t</Card.Subtitle>\r\n\t\t\t\t\t<Card.Text className=''>\r\n\t\t\t\t\t\t<ExpandableList\r\n\t\t\t\t\t\t\titems={recipe.ingredientLines}\r\n\t\t\t\t\t\t\tisExpanded={isExpanded}\r\n\t\t\t\t\t\t\tsetIsExpanded={setIsExpanded}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className='mt-4 bg-light p-3 rounded '>\r\n\t\t\t\t\t\t\t<h4 className='mb-3'>Nutrition Facts</h4>\r\n\t\t\t\t\t\t\t<NutritionInfo\r\n\t\t\t\t\t\t\t\trecipe={recipe}\r\n\t\t\t\t\t\t\t\tservingSize={Number(servingSize)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Card.Text>\r\n\t\t\t\t</Card.Body>\r\n\t\t\t</Card>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default RecipeCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}